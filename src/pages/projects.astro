---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card/index.astro";
import Now from "../components/Now.astro";
import Bimbo from "../components/Projects/Bimbo.astro";
import Zimmer from "../components/Projects/Zimmer.astro";
import SEC from "../components/Projects/SEC.astro";
import AustinFC from "../components/Projects/AustinFC.astro";
import DOJ from "../components/Projects/DOJ.astro";
import Nike from "../components/Projects/Nike.astro";
import AustinFCSociogram from "../components/Projects/AustinFCSociogram.astro";
import ETFReturns from "../components/Projects/ETFReturns.astro";
import ProgAndMed from "../components/Projects/ProgAndMed.astro";
import AnalyzingVoters from "../components/Projects/AnalyzingVoters.astro";
import DLCC from "../components/Projects/DLCC.astro";
import Airbnb from "../components/Projects/Airbnb.astro";
import MIElection from "../components/Projects/MIElection.astro";
import PropertyTax from "../components/Projects/PropertyTax.astro";
import BikeShare from "../components/Projects/BikeShare.astro";
import EmployeeAttrition from "../components/Projects/EmployeeAttrition.astro";

---

<script>
  import { stagger, spring, timeline, type TimelineDefinition } from "motion";
  import { loaderAnimation } from "../lib/constants";
  const cards = document.querySelectorAll(".card");

  const sequence = [
    loaderAnimation,
    [
      cards,
      { y: ["40%", "0%"], opacity: [0, 1] },
      {
        at: "-0.1",
        duration: 0.4,
        delay: stagger(0.05),
        easing: spring({ velocity: 100, stiffness: 50, damping: 10 }),
      },
    ],
  ];

  timeline(sequence as TimelineDefinition);
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  const arrow = document.querySelector('.arrow');

  if (arrow) {
    window.addEventListener('scroll', function() {
      var scroll = window.scrollY;

      if (scroll >= 1) {
        arrow.classList.add('fade');
      } else {
        arrow.classList.remove('fade');
      }
    });
  }
});
</script>

<script>
  const MIN_SPEED = 0.5
const MAX_SPEED = 0.5

function randomNumber(min, max) {
  return Math.random() * (max - min) + min
}

class Blob {
  constructor(el) {
    this.el = el
    const boundingRect = this.el.getBoundingClientRect()
    this.size = boundingRect.width
    this.initialX = randomNumber(0, window.innerWidth - this.size)
    this.initialY = randomNumber(0, window.innerHeight - this.size)
    this.el.style.top = `${this.initialY}px`
    this.el.style.left = `${this.initialX}px`
    this.vx =
      randomNumber(MIN_SPEED, MAX_SPEED) * (Math.random() > 0.5 ? 1 : -1)
    this.vy =
      randomNumber(MIN_SPEED, MAX_SPEED) * (Math.random() > 0.5 ? 1 : -1)
    this.x = this.initialX
    this.y = this.initialY
  }

  update() {
    this.x += this.vx
    this.y += this.vy
    if (this.x >= window.innerWidth - this.size) {
      this.x = window.innerWidth - this.size
      this.vx *= -1
    }
    if (this.y >= window.innerHeight - this.size) {
      this.y = window.innerHeight - this.size
      this.vy *= -1
    }
    if (this.x <= 0) {
      this.x = 0
      this.vx *= -1
    }
    if (this.y <= 0) {
      this.y = 0
      this.vy *= -1
    }
  }

  move() {
    this.el.style.transform = `translate(${this.x - this.initialX}px, ${
      this.y - this.initialY
    }px)`
  }
}

function initBlobs() {
  const blobEls = document.querySelectorAll('.bouncing-blob')
  const blobs = Array.from(blobEls).map((blobEl) => new Blob(blobEl))

  function update() {
    requestAnimationFrame(update)
    blobs.forEach((blob) => {
      blob.update()
      blob.move()
    })
  }

  requestAnimationFrame(update)
}

initBlobs()

</script>

<script>
  // Function to handle mouse wheel event
  function handleWheel(event) {
    // Prevent the default scrolling behavior
    event.preventDefault();
    // Navigate to the new page
    window.location.href = '/'; // Change to your target page
  }

  // Add event listener on load
  window.onload = () => {
    window.addEventListener('wheel', handleWheel);
  };
</script>

<style>

@-moz-keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -moz-transform: translateY(0) rotate(180deg);
    transform: translateY(0) rotate(180deg);
  }
  40% {
    -moz-transform: translateY(-30px) rotate(180deg);
    transform: translateY(-30px) rotate(180deg);
  }
  60% {
    -moz-transform: translateY(-15px) rotate(180deg);
    transform: translateY(-15px) rotate(180deg);
  }
}
@-webkit-keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -webkit-transform: translateY(0) rotate(180deg);
    transform: translateY(0) rotate(180deg);
  }
  40% {
    -webkit-transform: translateY(-30px) rotate(180deg);
    transform: translateY(-30px) rotate(180deg);
  }
  60% {
    -webkit-transform: translateY(-15px) rotate(180deg);
    transform: translateY(-15px) rotate(180deg);
  }
}
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -moz-transform: translateY(0) rotate(180deg);
    -ms-transform: translateY(0) rotate(180deg);
    -webkit-transform: translateY(0) rotate(180deg);
    transform: translateY(0) rotate(180deg);
  }
  40% {
    -moz-transform: translateY(-20px) rotate(180deg);
    -ms-transform: translateY(-20px) rotate(180deg);
    -webkit-transform: translateY(-20px) rotate(180deg);
    transform: translateY(-20px) rotate(180deg);
  }
  60% {
    -moz-transform: translateY(-15px) rotate(180deg);
    -ms-transform: translateY(-15px) rotate(180deg);
    -webkit-transform: translateY(-15px) rotate(180deg);
    transform: translateY(-15px) rotate(180deg);
  }
}

.arrow {
  position: fixed;
  left: 60%;
  margin-left: -20px;
  width: 20px;
  height: 20px;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGNe9CgcGtbOytLe2f5VrjfCKAAADsElEQVR4AezBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDZpRvTiIEYiMLkzivb65/Xf7eBLSFkYAQzDUjwvS6rZ3N9LduekvuffFOAq/+Xs+T+pABffzhL7p8CfP3FBdQB3gXEH45S+psXEP9VgM7fvoD4rwJ0/v4FxF9TQE1IAT38YZbcPwV4+YsLGBNSQB9/mONf/XdIAZ38YR9y/xTg678KkPunAF//VYDcPwU4+IsLGDekgI7+cA+5fwow8hcUsPxTgLG/uIBxQQro6w/XEPinABd/bQHLPwUY+6sLeCEFdPeH989Hfj4poL//55ddOqgCAIQBKKT9S5vB294+GeAeA/gbwN8A/gbwN4C/AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvAH8D+BvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbM9DeAvwH8DeBvAH8D+BvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbwN4C/AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvAH8D+BvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbwN4C/AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvAP//AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvAH8D+BvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbwN4C/AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvAH8D+BvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbwN4C/AfwN4G8AfwPm+hvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbwN4C/AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvAH8D+BvA34Bd/gbwN4C/AfwN4G8AfwP4G8DfAP4G8DeAvwH8DeBvQMXfAP4G8DeAvwH8DeBvQNPfAP4G8Deg7G8AfwPa/gbE/Q2I+xvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gYs8DeAvwH8DeBvAH8D+BvA3wD+BvA3gL8B/A3gbwB/A/gbwN8A/gbs9zeAvwH8DeBvAH8D+BvA3wD+BvT8DeBvAH8D+BvQ9TeAvwFtfwPi/gbwf+3BsQAAAADAIH/rYeypAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAUHBYk13Z7LTsAAAAASUVORK5CYII=);
  background-size: contain;
  filter: brightness(0) invert(1);
}

.bounce {
  -moz-animation: bounce 2s infinite;
  -webkit-animation: bounce 2s infinite;
  animation: bounce 2s infinite;
}

.fade {
  opacity:0;
  transition: 1s all ease-out;
}

.arrow-container {
  position: fixed;
  top: 30px; /* Adjust this as needed */
  left: 50%;
  transform: translateX(-50%); /* Center the container */
  text-align: center; /* Center the text */
}

.arrow-text {
  margin-top: 20px; /* Space between text and arrow */
  color: white; /* Change text color as needed */
  font-size: 16px; /* Adjust font size as needed */
}


:root {
  /*background-color: black;*/
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

.bouncing-blob {
  width: 32vw;
  aspect-ratio: 1;
  border-radius: 50%;
  will-change: transform;
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  transform-origin: left top;
}

.bouncing-blob--blue {
  background: #003674;
}

.bouncing-blob--white {
  background: #000000;
  z-index: 2;
  width: 15vw;
}

.bouncing-blob--purple {
  background: #232696;
}

.bouncing-blob--pink {
  background: #e289cd50;
}

.bouncing-blobs-container {
  position: fixed;
  z-index: -1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.bouncing-blobs-glass {
  position: absolute;
  z-index: 2;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(140px);
  -webkit-backdrop-filter: blur(140px);
  pointer-events: none;
}

.bouncing-blobs {
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

@media (max-width: 1200px) {
  .bouncing-blobs-glass {
    backdrop-filter: blur(120px);
    -webkit-backdrop-filter: blur(120px);
  }
}

@media (max-width: 500px) {
  .bouncing-blob {
    width: 60vw;
  }
  .bouncing-blob--white {
    width: 30vw;
  }
  .bouncing-blobs-glass {
    backdrop-filter: blur(90px);
    -webkit-backdrop-filter: blur(90px);
  }
}


</style>


<Layout
  title="Noumik Thadani - Data Scientist"
  description="I'm a data scientist based in New York, NY."
>
<div class="bouncing-blobs-container">
  <div class="bouncing-blobs-glass"></div>
  <div class="bouncing-blobs">
    <div class="bouncing-blob bouncing-blob--blue"></div>
    <div class="bouncing-blob bouncing-blob--blue"></div>
    <div class="bouncing-blob bouncing-blob--blue"></div>
    <div class="bouncing-blob bouncing-blob--white"></div>
    <div class="bouncing-blob bouncing-blob--white"></div>
    <div class="bouncing-blob bouncing-blob--purple"></div>
    <div class="bouncing-blob bouncing-blob--pink"></div>
  </div>
</div>

  <main
    class="text-white m-auto p-2 grid gap-2 max-w-6xl overflow-hidden relative w-full sm:p-4 sm:gap-2 md:grid-cols-2 md:gap-3 md:p-6 lg:h-screen lg:grid-rows-8 lg:grid-cols-4 lg:gap-4 lg:max-h-[800px]"
  >
  <!--<Card colSpan="md:col-span-4" rowSpan="md:row-span-1">
      <h1 class="text-xl font-bold text-center">Projects</h1>
  </Card> -->
    <Now />
    <PropertyTax />
    <BikeShare />
    <EmployeeAttrition />
    <Bimbo />
    <Zimmer />
    <SEC />
    <AustinFC />
    <DOJ />
    <!--<Nike /> -->
    <AustinFCSociogram />
    <ETFReturns />
    <ProgAndMed />
    <AnalyzingVoters />
    <DLCC />
    <Airbnb />
    <MIElection />
    </Card>
    <a href="/">
    <div class="arrow-container">
      <div class="arrow animated bounce"></div>
      <div class="arrow-text">Return Home</div>
    </div>
    </a>
  </main>
</Layout>
